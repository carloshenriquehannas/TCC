@startuml componentes - restaurante - direto2
title Sistema de Restaurante — Diagrama Componentes - Direto 2

left to right direction
skinparam componentStyle rectangle
skinparam packageStyle rectangle

'=== Atores (mesmos do caso de uso) ===
actor "Usuário do Sistema" as Usuario
actor "Funcionário" as Funcionario <<abstract>>
actor "Garçom" as Garcom
actor "Chef de Cozinha" as Chef
actor "Gerente" as Gerente
actor "Cliente" as Cliente
actor "Sistema" as Sistema <<system>>

'=== Heranças de atores ===
Cliente     -|> Usuario
Funcionario -|> Usuario
Garcom      -|> Funcionario
Chef        -|> Funcionario
Gerente     -|> Funcionario

package "Sistema de Restaurante" as SistemaRestaurante {

  '=== Componentes ===
  component "Gestão de Reservas"               as C_Reservas
  component "Gestão de Pedidos"                as C_Pedidos
  component "Cardápio"                         as C_Cardapio
  component "Gestão de Estoque"                as C_Estoque
  component "Gestão de Cozinha"                as C_Cozinha
  component "Gestão do Salão & Clientes"       as C_Salao
  component "Satisfação & Avaliações"          as C_Satisfacao
  component "Pagamentos Online"                as C_Pagamento
  component "Notificações"                     as C_Notificacoes

  '=== Interfaces (uma por caso de uso, nomes idênticos) ===
  '--- Gerente ---
  interface "Verificar disponibilidade de mesas no salão" as I_VerMesas
  interface "Verificar quantidade de clientes na loja"    as I_VerClientes
  interface "Gerenciar estoque"                           as I_GerenciarEstoque
  interface "Verificar nível de satisfação dos clientes"  as I_VerSatisfacao

  '--- Chef ---
  interface "Solicitar garçom para entrega de prato pronto" as I_SolicitarGarcom
  interface "Gerenciar ordens por prioridade"                as I_GerenciarPrioridade
  interface "Solicitar novos ingredientes"                   as I_SolicitarIngredientes

  '--- Garçom ---
  interface "Registrar pedidos de clientes diretamente no sistema" as I_G_RegistrarPedido
  interface "Visualizar status dos pedidos"                        as I_G_VerStatusPedidos
  interface "Visualizar status de reserva dos clientes"            as I_G_VerStatusReserva

  '--- Cliente ---
  interface "Fazer pedido"                      as I_C_FazerPedido
  interface "Verificar reserva"                 as I_C_VerificarReserva
  interface "Avaliar a experiência"             as I_C_AvaliarExperiencia
  interface "Ver o cardápio"                    as I_C_VerCardapio
  interface "Alterar o meu pedido"              as I_C_AlterarPedido
  interface "Ver o status do pedido"            as I_C_VerStatusPedido
  interface "Realizar reserva de mesa"          as I_C_ReservarMesa
  interface "Ver minha reserva de mesa"         as I_C_VerMinhaReserva
  interface "Cancelar minha reserva de mesa"    as I_C_CancelarReserva

  '--- Ator Sistema ---
  interface "Enviar notificação de alerta de alérgenos"  as I_Sis_Alergenos
  interface "Enviar notificação de ofertas"              as I_Sis_Ofertas
  interface "Enviar notificação de alterações no pedido" as I_Sis_AlteracaoPedido
  interface "Oferecer pagamento online"                  as I_Sis_PagamentoOnline

  '=== Dependências entre componentes (internas ao sistema) ===
  C_Pedidos      ..> C_Cardapio       : consulta cardápio
  C_Pedidos      ..> C_Estoque        : checa disponibilidade
  C_Cozinha      ..> C_Pedidos        : recebe e prioriza ordens
  C_Cozinha      ..> C_Notificacoes   : chama garçom
  C_Pagamento    ..> C_Pedidos        : total/itens do pedido
  C_Pagamento    ..> C_Notificacoes   : confirmações
  C_Satisfacao   ..> C_Notificacoes   : feedback/convites
  C_Salao        ..> C_Reservas       : ocupação/mesas
  C_Reservas     ..> C_Notificacoes   : confirma/cancela reserva
}

'=== Ligações dos ATORES às interfaces (como no caso de uso) ===
Gerente --> I_VerMesas
Gerente --> I_VerClientes
Gerente --> I_GerenciarEstoque
Gerente --> I_VerSatisfacao

Chef   --> I_SolicitarGarcom
Chef   --> I_GerenciarPrioridade
Chef   --> I_SolicitarIngredientes

Garcom --> I_G_RegistrarPedido
Garcom --> I_G_VerStatusPedidos
Garcom --> I_G_VerStatusReserva

Cliente --> I_C_FazerPedido
Cliente --> I_C_VerificarReserva
Cliente --> I_C_AvaliarExperiencia
Cliente --> I_C_VerCardapio
Cliente --> I_C_AlterarPedido
Cliente --> I_C_VerStatusPedido
Cliente --> I_C_ReservarMesa
Cliente --> I_C_VerMinhaReserva
Cliente --> I_C_CancelarReserva

Sistema --> I_Sis_Alergenos
Sistema --> I_Sis_Ofertas
Sistema --> I_Sis_AlteracaoPedido
Sistema --> I_Sis_PagamentoOnline

@enduml
