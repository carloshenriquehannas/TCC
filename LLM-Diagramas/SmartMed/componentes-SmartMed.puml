@startuml componentes-smartmed
title SmartMed — Diagrama de Componentes
top to bottom direction
skinparam linetype ortho

' ==== Atores ====
actor "Usuário do Sistema" as UsuarioDoSistema
actor "Funcionário" as Funcionario
actor "Paciente" as Paciente
actor "Operador" as Operador
actor "Médico" as Medico
actor "Técnico" as Tecnico
actor "Acompanhante" as Acompanhante
actor "Administrador" as Administrador
actor "Sistema" as Sistema

' ==== Heranças entre atores (conforme casos de uso) ====
Funcionario --|> UsuarioDoSistema
Paciente --|> UsuarioDoSistema
Acompanhante --|> UsuarioDoSistema
Operador --|> Funcionario
Medico --|> Funcionario
Tecnico --|> Funcionario
Administrador --|> Funcionario

' ==== Componentes ====
component "Integração & Interoperabilidade\n(API Gateway, Event Bus, FHIR/HL7)" as C_Integr
component "Identidade & Acesso (IAM)" as C_IAM
component "Notificação\n(lembretes/alertas/baixo estoque)" as C_Notify
component "Telemetria & Analítica de Adesão\n(streaming, monitoramento, detecção)" as C_Telemetry
component "Dispensação & Estoque\n(dispositivo, armazenamento, recarga, logística)" as C_Dispens
component "Prontuário & Prescrição" as C_EHR
component "Segurança, Privacidade & Compliance\n(LGPD, consentimento, criptografia, auditoria)" as C_Security
component "Administração, Operações & Observabilidade\n(configurações, manutenção, SLA)" as C_AdminOps

' ==== Relações ator–componente (mesma semântica dos casos de uso) ====
' Notificações / Baixo estoque
Paciente -- C_Notify
UsuarioDoSistema -- C_Notify
Acompanhante -- C_Notify
Administrador -- C_Notify
Sistema -- C_Notify

' Status / Monitoramento / Irregularidades (telemetria)
Paciente -- C_Telemetry
Medico -- C_Telemetry
Acompanhante -- C_Telemetry
Administrador -- C_Telemetry

' Armazenamento/Recarga e Sensores (técnico)
Tecnico -- C_Dispens

' Histórico e Prescrição
Paciente -- C_EHR
Medico -- C_EHR

' Autenticação (IAM)
UsuarioDoSistema -- C_IAM

' Integrações
Administrador -- C_Integr
UsuarioDoSistema -- C_Integr
Sistema -- C_Integr

' LGPD / Segurança
Administrador -- C_Security
Sistema -- C_Security

' Configurações / Disponibilidade / Operações
Administrador -- C_AdminOps
Paciente -- C_AdminOps
Acompanhante -- C_AdminOps
Medico -- C_AdminOps

@enduml
